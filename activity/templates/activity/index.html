<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MungMink Shop | ‡∏™‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;500;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        --primary-pink: #ffafcc;
        --secondary-pink: #ffc8dd;
        --soft-blue: #a2d2ff;
        --dark-text: #4a4a4a;
      }
      
      body {
        background: linear-gradient(135deg, var(--secondary-pink) 0%, #ffffff 100%);
        font-family: 'Kanit', sans-serif;
        height: 100vh;
        margin: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: var(--dark-text);
        overflow: hidden;
      }
      
      /* ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö */
      .back-btn {
        position: fixed;
        top: 20px;
        left: 20px;
        background: white;
        color: #ff8fab;
        padding: 10px 25px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 500;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        transition: 0.3s;
        z-index: 100;
      }
      
      .back-btn:hover {
        transform: translateX(-5px);
        background: var(--primary-pink);
        color: white;
      }
      
      /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• */
      .result-box {
        text-align: center;
        background: white;
        padding: 60px;
        border-radius: 40px;
        box-shadow: 0 15px 35px rgba(255, 175, 204, 0.3);
        animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        max-width: 80%;
      }
      
      @keyframes popIn {
        0% {
          transform: scale(0.8);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      
      h1 {
        font-size: 70px;
        color: #ff8fab;
        margin: 10px 0;
        line-height: 1.2;
      }
      
      .label-text {
        font-size: 24px;
        color: #999;
        margin-bottom: 5px;
      }
      
      .instruction-text {
        font-size: 16px;
        color: #ffafcc;
        margin-top: 20px;
      }
      
      /* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô */
      #start-text {
        font-size: 2.5rem;
        color: white;
        text-shadow: 2px 2px 10px rgba(255, 143, 171, 0.5);
        animation: pulse 2s infinite;
      }
      
      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 0.8;
        }
        50% {
          transform: scale(1.05);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 0.8;
        }
      }
      
      /* ‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡πÜ) */
      .admin-panel {
        position: fixed;
        bottom: 20px;
        opacity: 0.02;
        transition: 0.3s;
      }
      
      .admin-panel:hover {
        opacity: 1;
        background: rgba(255, 255, 255, 0.9);
        padding: 10px;
        border-radius: 10px;
      }
      
      #btn-draw {
        background: var(--primary-pink);
        border: none;
        color: white;
        padding: 5px 15px;
        border-radius: 5px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <a href="{% url 'main_home' %}" class="back-btn">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>

    <div class="result-box"
      style="display: {% if item %}
        block
      {% else %}
        none
      {% endif %};"
      onclick="location.href=location.pathname">
      <p class="label-text">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏ß‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠...</p>
      <h1>{{ item.name }}</h1>
      <p class="instruction-text">‚ú® ‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚ú®</p>
    </div>

    {% if not item %}
      <h2 id="start-text">üéÅ ‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏∏‡πà‡∏°...</h2>
    {% endif %}

    <div class="admin-panel">
      <form method="post" id="random-form">
        {% csrf_token %}
        <input type="number" name="sell_price" value="490" style="width: 60px;" />
        <button type="submit" id="btn-draw">‡∏™‡∏∏‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
      </form>
    </div>

    <script>
      // ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
      document.body.onclick = function (e) {
        // ‡∏ñ‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠ Reset (Refresh)
        const resultBox = document.querySelector('.result-box')
        if (resultBox.style.display === 'block') {
          // ‡∏ñ‡πâ‡∏≤‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ ‡πÉ‡∏´‡πâ Refresh ‡∏ú‡πà‡∏≤‡∏ô JS
          window.location.href = window.location.pathname
          return
        }
      
        // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏∏‡πà‡∏° ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏î‡πÇ‡∏î‡∏ô‡∏õ‡∏∏‡πà‡∏° Admin ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ Submit ‡∏ü‡∏≠‡∏£‡πå‡∏°
        if (e.target.tagName !== 'BUTTON' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'A') {
          document.getElementById('btn-draw').click()
        }
      }
    </script>
  </body>
</html>
